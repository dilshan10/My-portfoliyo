<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Pos System</title>
    <link rel="stylesheet" href="../asserts/bootstrap/css/bootstrap.min.css">
</head>
<body>
<header style="position: fixed; width: 100vw;">
    <nav class="navbar" style="background-color: green;">
        <div class="container-fluid">
            <a class="navbar-brand" href="#">Simple POS System</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="offcanvas" data-bs-target="#offcanvasDarkNavbar" aria-controls="offcanvasDarkNavbar">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="offcanvas offcanvas-end text-bg-dark" tabindex="-1" id="offcanvasDarkNavbar" aria-labelledby="offcanvasDarkNavbarLabel">
                <div class="offcanvas-header">
                    <h5 class="offcanvas-title" id="offcanvasDarkNavbarLabel">Menu</h5>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="offcanvas" aria-label="Close"></button>
                </div>
                <div class="offcanvas-body" style="background: white">
                    <ul class="navbar-nav justify-content-end flex-grow-1 pe-3">
                        <li class="nav-item">
                            <a class="nav-link active" aria-current="page" href="../index.html">Home</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link active" aria-current="page" href="CustomerForm.html">Customer</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link active" aria-current="page" href="ItemForm.html">Store</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link active" aria-current="page" href="../pages/PlaceOrderForm.html" target="_parent">Order</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link active" aria-current="page" href="SettingForm.html" target="_parent">Settings</a>
                        </li>
                    </ul>
                    <form class="d-flex" role="search">
                        <input class="form-control me-2" type="search" placeholder="Search" aria-label="Search">
                        <button class="btn btn-success" type="submit">Search</button>
                    </form>
                </div>
            </div>
        </div>
    </nav>
</header>
    <main>
        <section id="PlaceOrderForm">
            <div style="height: 60px;width: 100vw;">
            </div>
            <section class="row" style="height: 150px; width: 100vw;">
                <div class="row">
                    <div class="col">
                        <div class="mb-3">
                            <label for="Total" class="form-label">Total</label>
                            <input type="number" class="form-control" id="Total" aria-describedby="emailHelp">
                        </div>
                    </div>
                    <div class="col">
                        <div class="mb-3">
                            <label for="SubTotal" class="form-label">Sub Total</label>
                            <input type="number" class="form-control" id="SubTotal" aria-describedby="emailHelp">
                        </div>
                    </div>
                    <div class="col">
                        <div class="row">
                            <div class="col">
                                <div class="mb-3">
                                    <label for="Cash" class="form-label">Cash</label>
                                    <input type="number" class="form-control" id="Cash" aria-describedby="emailHelp">
                                </div>
                            </div>
                            <div class="col">
                                <div class="mb-3">
                                    <label for="Discount" class="form-label">Discount</label>
                                    <input type="number" class="form-control" id="Discount" aria-describedby="emailHelp">
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col">
                                <div class="mb-3">
                                    <label for="Balance" class="form-label">Balance</label>
                                    <input type="number" class="form-control" id="Balance" aria-describedby="emailHelp">
                                </div>
                            </div>
                            <div class="col">
                                <div class="mb-3">
                                    <button type="button" class="btn btn-success" id="btnPurchese">Purchese</button></div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
            <section class="row" style="width: 100vw; height: 300px;align-items: center">
                <div class="col" style="width: 50vw;background: white;">
                    <div style="height: fit-content; width: 100%; background: green;">
                        <h3>Order Details</h3>
                    </div>
                    <form>
                        <div class="row">
                            <div class="col">
                                <div class="mb-3">
                                    <label for="txtOrderID" class="form-label">Order ID</label>
                                    <input type="text" class="form-control" id="txtOrderID" aria-describedby="emailHelp">
                                </div>
                            </div>
                            <div class="col">
                                <div class="mb-3,col">
                                    <label for="txtOrderDate" class="form-label">Order Date</label>
                                    <input type="text" class="form-control" id="txtOrderDate" aria-describedby="emailHelp">
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col">
                                <div class="mb-3">
                                    <label for="txtCustID" class="form-label">Customer ID</label>
                                    <input type="text" class="form-control" id="txtCustID">
                                </div>
                            </div>
                            <div class="col">
                                <div class="mb-3">
                                    <label for="txtCustName" class="form-label">Customer Name</label>
                                    <input type="text" class="form-control" id="txtCustName">
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col">
                                <div class="mb-3">
                                    <label for="txtCustAddres" class="form-label">Customer Address</label>
                                    <input type="text" class="form-control" id="txtCustAddres">
                                </div>
                            </div>
                            <div class="col">
                                <div class="mb-3">
                                    <label for="txtCustTell" class="form-label">Customer Tel-Number</label>
                                    <input type="text" class="form-control" id="txtCustTell">
                                </div>
                            </div>
                        </div>
                    </form>
                </div>
                <div class="col" style="width: 50vw;background: white;">
                    <div style="height: fit-content; width: 100%; background: green">
                        <h3>Items In Order</h3>
                    </div>
                    <form>
                        <div class="row">
                            <div class="col">
                                <div class="mb-3">
                                    <label for="txtItemCode" class="form-label">Item Code</label>
                                    <input type="text" class="form-control" id="txtItemCode" aria-describedby="emailHelp">
                                </div>
                            </div>
                            <div class="col">
                                <div class="mb-3,col">
                                    <label for="txtItemName" class="form-label">Item Name</label>
                                    <input type="text" class="form-control" id="txtItemName" aria-describedby="emailHelp">
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col">
                                <div class="mb-3">
                                    <label for="txtItemPrice" class="form-label">Item Price</label>
                                    <input type="text" class="form-control" id="txtItemPrice">
                                </div>
                            </div>
                            <div class="col">
                                <div class="mb-3">
                                    <label for="txtQTYonHand" class="form-label">Qty On Hand</label>
                                    <input type="text" class="form-control" id="txtQTYonHand">
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col">
                                <div class="mb-3">
                                    <label for="txtOrderQTY" class="form-label">Order QTY</label>
                                    <input type="text" class="form-control" id="txtOrderQTY">
                                </div>
                            </div>
                            <div class="col">
                                <div class="mb-3">
                                    <button type="button" class="btn btn-danger" ID="btnAddItem">Add Item</button>
                                </div>
                            </div>
                        </div>
                    </form>
                </div>
            </section>
            <section >
                <table class="table">
                    <thead>
                    <tr>
                        <th scope="col">#</th>
                        <th scope="col">Item Code</th>
                        <th scope="col">Item Name</th>
                        <th scope="col">QTy</th>
                        <th scope="col">Price</th>
                    </tr>
                    </thead>
                    <tbody class="table-group-divider" id="tblOrder">
                    <tr>

                    </tr>
                    </tbody>
                </table>
            </section>
        </section>
    </main>
    <script src="../asserts/bootstrap/js/bootstrap.min.js"></script>
<script src="../asserts/js/jquery-3.6.1.min.js"></script>
<script>
    var item;
    var OrderItemDetails = [];

    function clar() {
        $('#tblOrder').empty();
    }

    function loadAllItem(){
        clar();
        for(var i of OrderItemDetails){
            $('#tblOrder').append('<tr><td></td><td>'+i.id+'</td><td>'+i.name+'</td><td>'+ i.Qty+'</td><td>'+i.price+'</td></tr>')
        }
    }

    $('#btnAddItem').click(function () {
        let itemID = $('#txtItemCode').val();
        let itemName = $('#txtItemName').val();
        let itemQTY = $('#txtOrderQTY').val();
        let itemPrice = $('#txtItemPrice').val();

        item ={
            id : itemID,
            name : itemName,
            Qty : itemQTY,
            price : itemPrice
        }
        OrderItemDetails.push(item);
        loadAllItem();
        bindRowClickEvents();
        clickRemove();
    })

    function bindRowClickEvents() {
        $('#tblOrder>tr').click(function () {
            let id = $(this).children(":eq(1)").text();
            let name = $(this).children(":eq(2)").text();
            let qty = $(this).children(":eq(3)").text();
            let price = $(this).children(":eq(4)").text();

            $('#txtItemCode').val(id);
            $('#txtItemName').val(name);
            $('#txtOrderQTY').val(qty);
            $('#txtItemPrice').val(price);
        })
    }

    function clickRemove() {
        $('#tblOrder>tr').dblclick(function (event) {
            $(this).remove();
        })
    }
    $(document).keydown(function (event) {
        if (event.key == "Tab"){
            event.preventDefault()
        }
    });
    $('#txtCustID').keydown(function (event) {
        if (event.key=="Enter") {
            $('#txtItemCode').focus();
        }
    });
    $('#txtItemCode').keydown(function (event) {
        if (event.key=="Enter") {
            $('#txtOrderQTY').focus();
        }
    });
    $('#txtOrderQTY').keydown(function (event) {
        if (event.key=="Enter") {
            $('#btnAddItem').focus();
        }
    });
</script>
</body>
</html>